body: "# Overview\r\n\r\nWhen attempting to log-in to the StackStorm WebUI, you are\
  \ presented with an error such as:\r\n\r\n```\r\nUnable to reach auth service. [auth:https://:9100]\
  \ \r\n```\r\n\r\nIn addition, the Error Console in your web browser may contain\
  \ information such as:\r\n\r\n```\r\nhttps://st2.stackstorm.com:9100/tokens [HTTP/1.1\
  \ 500 Internal Server Error 1ms]\r\nCross-Origin Request Blocked: The Same Origin\
  \ Policy disallows reading the remote resource at https://st2.stackstorm.com:9100/tokens.\
  \ (Reason: CORS header 'Access-Control-Allow-Origin' missing). <unknown>\r\n```\r\
  \n\r\n## Detail\r\n\r\nThis error occurs when the necessary services for StackStorm\
  \ are unavailable. StackStorm will read the `config.js` setting file, and use the\
  \ included settings to connect.\r\n\r\n**Default Config**\r\n\r\n```\r\n'use strict';\r\
  \nangular.module('main')\r\n  .constant('st2Config', {\r\n\r\n    hosts: [{\r\n\
  \      name: 'StackStorm',\r\n      url: 'https://:9101',\r\n      auth: 'https://:9100',\r\
  \n    }]\r\n  });\r\n```\r\n\r\nIn the default configuration, the noticeable lack\
  \ of a full URL is intentional. When configured such as `https://:9101`, the WebUI\
  \ client will re-use the current host-header as the target host when attempting\
  \ to connect to StackStorm. (e.g.: https://st2.stackstorm.com in the URL bar will\
  \ pass https://st2.stackstorm.com:9101` when attempting to connect to the API and\
  \ Auth endpoints\r\n\r\nThe `config.js` file can be found at `/opt/stackstorm/static/webui`\
  \ in a local installation.\r\n\r\n# Workaround\r\n\r\nThe StackStorm Authentication\
  \ and Authorization service must be restarted. Try the following steps.\r\n\r\n\
  * Log onto the system\r\n* Reload the StackStorm services (`st2ctl restart`)\r\n\
  * Ensure services are running (`st2ctl status`)\r\n* Ensure services are listening\
  \ on the correct interface (`netstat -tulp | grep nginx`)\r\n* Attempt to log-in\
  \ again.\r\n\r\nIf you are using the All-in-one Installer, and 500 errors persist\
  \ after attempting to restart the service, you may need to ensure that your NIC\
  \ driver is setup properly. In some cases, the installer does not detect the correct\
  \ network adapter. To repair, try the following steps:\r\n\r\n\r\n* On your system,\
  \ run `ifconfig` and identify the network interface that should run the StackStorm\
  \ services. Make note of the interface name. (e.g.: eth0)\r\n* Open or create the\
  \ file `/opt/puppet/hieradata/answers.yaml`, and add a new line to tell the installer\
  \ what interface to use.\r\n\r\n```\r\n# For example, if eth0 was an exterally excessible\
  \ network adapter\r\n---\r\nsystem::ipaddress: %{::ipaddress_eth0}`\r\n```\r\n\r\
  \n* Attempt to re-configure the StackStorm installer. (`update-system`)\r\n* Attempt\
  \ to log in again."
status: 0
title: Unable to reach auth service
topic: WebUI
